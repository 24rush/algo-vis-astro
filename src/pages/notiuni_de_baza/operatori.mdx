---
title: "Operatori și expresii"
layout: "../../layouts/MainLayout.astro"
---

import Box from '../../components/Content/Box.astro'
import Arrow from '../../components/Content/Arrow.astro'
import Check from '../../components/Content/Check.astro'
import Algovis from "../../components/Content/Algovis.astro";
import GPTBox from '../../components/Content/GPTBox.astro'
import P5Widget from "../../components/P5Widget.astro";

<Box knowledge>
<strong>Ce vom descoperi în acest articol:</strong>
<br/><Check/>ce sunt operatorii și operanzii
<br/><Check/>ce sunt expresiile
<br/><Check/>cum se evaluează expresiile
</Box>

# Operatori #
Pentru a realiza sarcini utile folosind conținutul variabilelor avem nevoie să putem specifica operațiile pe care dorim să le efectuăm (de exemplu, pentru a determina suma a două numele avem nevoie să le putem aduna). Operatorii sunt așadar cuvinte cheie speciale care permit efectuarea unor operații asupra variabilelor (sau asupra unor valori) și dictează modul în care acestea trebuie manipulate sau combinate pentru a produce un rezultat.

# Operanzi #
Am utilizat în exemplele trecute o multitudine de operatori alături de diferite constante (4, 12) sau variabile (x). Acești parametrii ai operatorilor se mai numesc și **operanzi** și reprezintă datele de intrare pentru un operator. 

<img src="../assets/imgs/operatori1.jpg" class="img-box" />

Se disting multe tipuri de operatori:
* <Arrow/>**atribuire:** ```=```
* <Arrow/>**aritmetici:** <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>
* <Arrow/>**incrementare/decrementare:** <code>++</code>, <code>--</code>
* <Arrow/>**de comparatie:** <code>&lt;</code>, <code>></code>
* <Arrow/>**de egalitate:** <code>==</code>, <code>!=</code>
* <Arrow/>**logici:** <code>&amp;&amp;</code>, <code>||</code>, <code>!</code>

<Algovis>
```js
let x = 4; /*** Atribuirea valorii 4 variabilei x ***/

let sum = x + 12; /*** + este un operator aplicat operanzilor x și 12 și va întoarce suma lor iar operatorul = va stoca această sumă în variabila sum ***/

sum = x + 5; /*** în acest caz, operatorul + va întoarce suma dintre x și 5 ***/

x += 2; /*** x = x + 2; ***/
x *= 3; /*** x = x * 3; ***/
const n = 7; /*** Atribuirea valorii 7 constantei n (valoarea sa nu poate fi modificată) ***/
let s = n + 3; /*** s = 7 + 3 = 10 ***/
let r = s % 2; /*** restul împărțirii lui s la 2 - util pentru a determina dacă un număr este par sau impar ***/

let u = 1;
u++; /*** operator incremetare adică va aduna 1 la valoarea deja existentă în variabilă ***/
let c = u--; /*** c = 2; ***/
c = --u; /*** c = 1; ***/

let s1 = "Hello ";
let s2 = "world"
console.log(s1 + s2); /*** aplicat variabilelor de tip text, operatorul + va concatena cei doi operanzi***/
```
</Algovis>

În exemplul de mai sus putem observa și cum diferă comportamentul operatorului <code>+</code> în funcție de operanzii cărora este aplicat. În liniile 3-5 este folosit cu operanzi numerici unde va efectua operația de adunare însă în liniile 18-20 el este folosit cu operanzi text ceea ce va face ca rezultatul expresiei să fie concatenarea (alăturarea) celor doi operanzi.

<Box info>
<strong>Operatorul %</strong> numit și modulo este folosit pentru a determina restul împărțirii a două numere întregi și este foarte util în a determina dacă un număr este par sau impar având în vedere că restul împărțirii la 2 a unui număr par va fi mereu 0.
</Box>

<GPTBox description="Vezi ce spune și ChatGPT despre operatori in Javascript" prompt="ce sunt operatorii in javascript">
În JavaScript, operatorii sunt simboluri sau cuvinte cheie speciale care permit efectuarea unor operații pe operanzi (valori sau variabile). Aceștia dictează modul în care valorile trebuie manipulate sau combinate pentru a produce un rezultat. Operatorii sunt un component fundamental al limbajului de programare, permițându-vă să efectuați calculații, comparații, asignări și alte acțiuni în cadrul codului.

Există mai multe tipuri de operatori, fiecare având un scop specific:

1. **Operatori Aritmetici:** Acești operatori efectuează operații matematice de bază.

   - Adunare (`+`): Adună două valori.
   - Scădere (`-`): Scade operandul din dreapta din operandul din stânga.
   - Înmulțire (`*`): Înmulțește două valori.
   - Împărțire (`/`): Împarte operandul din stânga la operandul din dreapta.
   - Rest (`%`): Returnează restul împărțirii.
   - Exponențiere (`**`): Ridică operandul din stânga la puterea operandului din dreapta.

2. **Operatori de Comparare:** Acești operatori compară două valori și returnează un rezultat boolean.

   - Egal (`==` sau `===`): Verifică dacă două valori sunt egale.
   - Diferit (`!=` sau `!==`): Verifică dacă două valori nu sunt egale.
   - Mai mare (`>`): Verifică dacă operandul din stânga este mai mare decât operandul din dreapta.
   - Mai mic (`<`): Verifică dacă operandul din stânga este mai mic decât operandul din dreapta.
   - Mai mare sau egal (`>=`): Verifică dacă operandul din stânga este mai mare sau egal decât operandul din dreapta.
   - Mai mic sau egal (`<=`): Verifică dacă operandul din stânga este mai mic sau egal decât operandul din dreapta.

3. **Operatori Logici:** Acești operatori efectuează operații logice pe valori booleene.

   - ȘI (`&&`): Returnează true dacă ambii operanzi sunt true.
   - SAU (`||`): Returnează true dacă cel puțin un operant este true.
   - NEGAT (`!`): Inversează valoarea unei expresii booleene.

4. **Operatori de Asignare:** Acești operatori sunt folosiți pentru a asigna valori la variabile.

   - Asignare (`=`): Atribuie valoarea din dreapta variabilei din stânga.
   - Asignare cu adunare (`+=`), asignare cu scădere (`-=`), asignare cu înmulțire (`*=`), etc.: Efectuează operația specificată și atribuie rezultatul variabilei din stânga.

5. **Operatori de Incrementare și Descreștere:** Acești operatori sunt folosiți pentru a crește sau scădea o valoare cu 1.

   - Incrementare (`++`): Crește valoarea cu 1.
   - Descreștere (`--`): Scade valoarea cu 1.

6. **Operator Ternar (Operator Condițional):** O modalitate simplificată de a scrie o instrucțiune `if-else`.

   - Sintaxă: `condiție ? expresie1 : expresie2`
   - Dacă condiția este adevărată, se evaluează la `expresie1`; în caz contrar, se evaluează la `expresie2`.

Acestea sunt doar câteva dintre tipurile comune de operatori pe care îi veți întâlni în limbajul de programare JavaScript. Operatorii au un rol crucial în manipularea datelor și în controlul fluxului programelor voastre.
</GPTBox>

<Box knowledge>
Există câteva utilitare în limbajul Javascript ce ne ușurează mult procesul de dezvoltare a programelor noastre:
 
* <code>console.log(continut)</code> ne ajută să afișăm conținutul variabilelor în **consola de ieșire** și totodată în **consola de depanare** a browserului (apasă tasta F12 în browserul Chrome și apoi selectează Console). Această funcție primește ca parametru conținutul pe care vrem să îl afișăm, fie variabile fie texte. 
    
    Ex. <em>console.log('Acesta este primul meu mesaj')</em> sau <em>console.log(x)</em>, unde <em>x</em> este orice variabilă

* <code>prompt(text)</code> ne permite să solicităm date de la utilizator. Această funcție primește ca parametru textul pe care vrem să îl afișăm utilizatorului și ne va întoarce valoarea introdusă de utilizator.
    
    Ex. <em>let x = prompt('x=')</em>, va deschide o casetă în care va solicita o valoare iar acea valoare va fi stocată apoi în variabila <em>x</em> pe care o putem folosi în program
</Box>

<P5Widget>
```
// Pozitia cercului
let x, y;

function setup() {
  createCanvas(200, 200);
  x = width / 2;
  y = height;
}

function draw() {
  background(255, 204, 0);
  
  // Deseneaza cerc
  stroke(50);
  fill(100);
  ellipse(x, y, 24, 24);
  
  // Vibreaza random pe axa orizontala
  x = x + random(-1, 1);
  
  // Urca spre partea de sus a ecranului
  y = y - 1;
  
  // Cand iese din ecran, merge la incepu
  if (y < 0) {
    y = height;
  }
}
```
</P5Widget>


# Expresii #
Combinațiile de operatori și operanzi observăm că au mereu un rezultat obținut în urma aplicării operatorului asupra operanzilor (de ex. <code>sum = x + 12</code> are ca rezultat 16, valoare ce va este atribuită apoi variabilei *sum*). 

Construcțiile în care sunt folosiți operatori și operanzi pentru a obține un rezultat poartă numele de **expresii** iar caracteristica lor principală este că se pot evalua sub forma unui rezultat.

<img src="../assets/imgs/expresii1.jpg" class="img-box" />

Expresiile nu sunt formate numai din variabile ci din orice identificator care în urma evaluării sale va produce un rezultat. Apelul unei funcții de exemplu, este și el o expresie.

```js
let res = calculeazaSuma(1, 2, 3); // 6
```

De foarte multe ori vom folosi in programele noastre operatori de comparație pentru a crea expresii ce se evalueaza la **adevarat** sau **fals**.

```js
// Expresie de comparație 
let esteMaiMare = 4 > 12; 
```

<code>4 > 12</code> se va evalua la fals pentru ca 4 nu este mai mare ca 12 iar aceste expresii mai poartă numele și de **expresii de comparație** sau **relaționale** pentru că indică o relație între operanzi (mai mare, mic, diferit, etc.)

Combinând apoi mai multe astfel de expresii folosind operatori logici (```&&, ||, !```) vom obține **expresii logice** care la rândul lor întorc tot rezultate boolene (adevărat/fals).

```js
// Expresie booleană
let esteValabil = (a && b) || esteMaiMare;
```

<Algovis>
```js
let mai_mare = 4 > 12; /*** operatorul relațional > ne indică prin true sau false dacă valoarea din partea stangă este mai mare decât cea din dreapta, în acest caz 4 mai mare ca 12 este fals iar această valoare va fi stocată în variabila mai_mare de către operatorul = ***/

let a = 5; /*** Atribuire valoare ***/
console.log(a == 5); /*** Operator egalitate ***/

let va = (a != 5)
console.log(va);

console.log(3 > 5);
console.log(4 <= 4);

console.log(a > 3 && a % 2 == 1); /*** Este a număr impar mai mare ca 3? ***/

let b = true;
console.log(!b); /*** Operator negare ***/
```
</Algovis>

Tabelul de adevăr de mai jos ne va ajuta să înțelegem rezultatul expresiilor logice în funcție de valorile sub-expresiilor ce le compun.

<img src="../assets/imgs/tabellogic.png" class="img-box" />

# Evaluarea expresiilor #
A evalua o expresie înseamnă a **calcula valoarea acesteia** și se face prin:

1. înlocuirea în expresie a fiecărei variabile cu valoarea ei 
2. efectuarea operațiilor specificate de operatori folosind aceste valori

```js
let rezultat = sum(4, 5) + 3.14;
```
Evaluarea unei expresii presupune determinarea valorii fiecărui identificator (**variabilă, rezultat al unei funcții, literal, etc.**) prezent în componența expresiei. 

Procesul de evaluare al unei expresii necesită folosirea unor reguli de aplicare specifice operatorilor prezenți în expresie iar aceste reguli trebuie să țină cont de **prioritatea (precedența)** și **asociativitatea** fiecăruia.

## Precedența operatorilor ##
Ca și în matematică, atunci când avem o expresie ce conține mai mulți operatori (de ex. <code>+</code> si <code>*</code>) vom efectua mai întâi operația de înmulțire și apoi adunarea iar acest mecanism se numește **precedență**. Vom spune în acest caz că înmulțirea/împărțirea au un <strong>nivel de precedență</strong> mai mare decât adunarea/scăderea.

```js
let r = 1 + 2 * 3; // 7
```
În expresia de mai sus se va efectua mai întâi înmulțirea dintre ```2``` și ```3``` iar apoi adunarea cu ```1```. 

Dacă dorim să suprascriem acest mecanism implicit, o putem face prin utilizarea parantezelor:
```js
let r = (1 + 2) * 3; // 9
```
fapt ce va determina efectuarea adunării mai întăi iar apoi înmulțirea acestui rezultat cu 3.

Precedența operatorilor definește ordinea în care operatorii sunt evaluați într-o expresie atunci când există mai mulți operatori prezenți. Aceste reguli asigură că expresiile sunt evaluate în mod consecvent și precis.

<Box attention>
Mai jos găsim nivelurile de precedență a operatorilor în JavaScript (de la cel mai înalt la cel mai scăzut):

1. Grupare: `( )`
2. Exponent: `**`
3. Înmulțire, Împărțire, Rest: `*`, `/`, `%`
4. Adunare, Scădere: `+`, `-`
5. Comparație: `<`, `>`, `<=`, `>=`
6. Egalitate: `==`, `!=`, `===`, `!==`
7. Și Logic: `&&`
8. Sau Logic: `||`
9. Operatorul Condițional (ternar): `? :`
10. Asignare: `=`, `+=`, `-=` etc.
</Box>

## Asociativitatea operatorilor ##
Atunci când în cadrul expresiilor vom găsi mai mulți operatori cu același nivel de precedență vom folosi **asociativitatea** pentru a determina ordinea de evaluare care poate fi de la stânga la dreapta sau invers.

1. Folosim operatori cu nivel de precedență diferit (```*, +, -```) așa că vom aplica nivelurile lor de prioritate pentru a determina ordinea de aplicare
   ```js
   // Precedență: Intai inmultire apoi scadere apoi adunare
   let result = 10 - 2 + 3 * 2; 
   // Result: 10 - 2 + 6 = 14
   ```

2. Folosim același operator (```**```) așa că va trebui să folosim asociativitatea pentru a determina ordinea de aplicare iar în acest caz este de la dreapta la stânga
   ```js
   // Asociativitate de dreapta
   let value = 2 ** 3 ** 2; 
   // Result: 2 ** (3 ** 2) = 512
   ```

<Box attention>
**Regulile de aplicare a operatorilor**

De fiecare dată când avem nevoie să evaluăm o expresie, trebuie să urmăm pașii:
1. evaluăm mai întâi expresiile dintre paranteze începând cu cele mai interioare
2. dacă o expresie nu conține paranteze, se va folosi precedența operatorilor pentru a determina ordinea de evaluare
3. dacă o expresie conține mai mulți operatori cu aceeași precedență, se va tine cont apoi de asociativitatea lor (care în general este de la stânga la dreapta)
</Box>

<strong>Regulile de aplicare</strong> a operatorilor în cadrul expresiilor pot fi întortocheate și neintuitive însă putem evita foarte ușor acestă capcană prin specificarea explicită a ordinii de evaluare cu ajutorul <strong>parantezelor</strong>.

În loc să scriem <code>let s = 8 / 2 ** 2</code> unde din cauză că operatorul exponent are precedență mai mare decât împărțirea se va efectua mai întâi ridicarea la puterea iar apoi împărțirea, vom elimina orice dubiu prin specificarea ordinii pe care ne-o dorim folosind parantezele astfel:

- vrem să efectuăm mai întâi împărțirea
```js 
let s = (8 / 2) ** 2
``` 

- vrem ridicarea la putere să fie efectuată prima și apoi împărțirea.
```js

let s = 8 / (2 ** 2)
``` 

<Box attention>
<strong>Rezumat</strong>
<br/><Arrow/>**Operatorii** sunt mijlocul prin care putem efectua operații asupra datelor (numiți și operanzi)
<br/><Arrow/>**Expresiile** sunt construcții ce conțin operatori și operanzi și pot folosi opțional și paranteze pentru a grupa sub-operațiile 
<br/><Arrow/>Evaluarea unei expresii presupune folosirea unor <strong>reguli de aplicare</strong> a operatorilor asupra operanzilor referitoare la prioritatea lor față de alți operatori (precedență) și legate de ordinea aplicării operatorilor (de la stânga la dreapta sau invers)
<br/><Arrow/>Pentru a evita greșeli legate de ordinea intepretarii operațiilor într-o expresie este recomandată folosirea <strong>parantezelor</strong> pentru a face explicită ordinea pe care o avem în vedere
</Box>